## NEXTJS 

### 사전 렌더링
 자바스크립트 코드를 HTML페이지로 다 렌더링 한 다음에 브라우저에게 응답해주는 방식으로, 클라이언트 사이드 렌더링 방식의 단점을 보완해준다.
* CSR 장점:  초기에 빈 HTML을 클라이언트에 보내주고 후속으로 JS Bundle을 보내준다. JS Bundle안에 웹사이트에 필요한 전체 코드가 다 포함되어 있다. 때문에 페이지 이동시 추가적으로 서버에 요청을 할 필요 없다. 그래서 페이지 이동시 사용자가 느끼는 속도가 빠르다.

* CSR 단점:  초기 요청 시간이 길다.
=> nextjs가 사전에 서버에서 렌더링한 후에 완성된 HTML을 브라우저에 보낸다. 그 후 JS Bundle을 보낸다.(Hydration).이 과정까지 완료되는 시점을 TTI(Time To interactive)이라는 지표로 표시한다.


### Page Router
pages 폴더 아래 있는 .js 파일의 이름이나 폴더의 이름을 기준으로 페이지를 라우팅 함   


### App Router


### 데이터 패칭

#### 페이지 라우터
=> 넥스트 서버에서 또다른 백앤드 서버나 데이터베이스에서
데이터를 패칭해 오기 위해서는 페이지 역할을 하는 파일 안에 패칭 함수를 이용한다.

패칭해온 데이터는 page 컴포넌트에게는 props로 데이터를 넘겨준다.
=> 페이지 라우터 버전에서는 서버 컴포넌트라는 개념이 없어서, 모든 컴포넌트가 클라이언트 컴포넌트로서 동작하고 이 컴포넌트는 브라우저에서도 동일하게 한번 더 실행된다. 즉 데이터 패칭 로직이 서버 측에서만 실행되지 않고 브라우저에서도 하이드레이션 과정이 한번 더 실행되기때문에 서버측에서 사용하는 특수한 함수를 이용함.

서버에서 불러온 데이터는 컴포넌트 트리의 최상단에 위치하는 컴포넌트에 props로 전달되기 때문에 최상단 페이지 컴포넌트로부터 말단의 모든 컴포넌트까지 props나 API를 전달한다.

#### 앱 라우터
앱 라우터 버전의 nextjs 에서는 서버 컴포넌트가 추가되기 때문에 이 문제를 겪지 않아도 된다. (서버 컴포넌트는 서버에서만 실행되기 때문에 async 키워드를 붙여서 비동기 함수로 만들어서 해당 컴포넌트에서 데이터를 직접 불러서 데이터 패칭을 할 수 있다.)
* APP Router는 서버 컴포넌트 및 스트리밍 같은 React 최신 기능을 사용할 수 있는 최신 라우터이다.


### 풀 라우트 캐시
* next 서버측에서 빌드 타임에 특정 페이지의 렌더링 결과를 캐싱하는 기능(미리 저장해두는 기능)
* 정적 페이지에만 기능
